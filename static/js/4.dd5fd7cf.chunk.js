(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{436:function(e,t,s){e.exports={profile__container:"ProfileInfo_profile__container__q0jX6",profile__photo_block:"ProfileInfo_profile__photo_block__2zkNK",profileImage:"ProfileInfo_profileImage__xH3pL",upload_btn:"ProfileInfo_upload_btn__1_pz0",custom_file_upload:"ProfileInfo_custom_file_upload__yerk4",status__description:"ProfileInfo_status__description__21TB2",status__description__text:"ProfileInfo_status__description__text__2dOd-",data__description:"ProfileInfo_data__description__2v3KS",data__description_full_name:"ProfileInfo_data__description_full_name__5cjV4",descriptionText:"ProfileInfo_descriptionText__1xx75",descriptionTextContacts:"ProfileInfo_descriptionTextContacts__3rA6P",edit_btn:"ProfileInfo_edit_btn__2lRGK",form__description:"ProfileInfo_form__description__3XIGn",descriptionTextDataForm:"ProfileInfo_descriptionTextDataForm__2YAR-",descriptionTextName:"ProfileInfo_descriptionTextName__2jhvu"}},441:function(e,t,s){e.exports={post:"Post_post__KhOVT",postHeader:"Post_postHeader__3uAx0",user:"Post_user__1uIVW",userAvatar:"Post_userAvatar__UGchM",postInfo:"Post_postInfo__2nUBl",settingIcon:"Post_settingIcon__3m2cs",postAuthor:"Post_postAuthor__2ubX7",postTime:"Post_postTime__3MP5m",postTimeInfo:"Post_postTimeInfo__1ANPy",postText:"Post_postText__3ppih",postImage:"Post_postImage__2vZvK",likes:"Post_likes__eNxcn",likesCounter:"Post_likesCounter__2Ky0N",postFooter:"Post_postFooter___9RE7",postButtonText:"Post_postButtonText__369yz",buttonIcon:"Post_buttonIcon__1xUGO"}},443:function(e,t,s){e.exports={spin:"Profile_spin__3HpPa"}},448:function(e,t,s){"use strict";s.r(t);var o=s(9),a=s(92),i=s(93),c=s(95),n=s(94),r=s(4),l=s(0),p=s.n(l),d=s(194),j=s(441),u=s.n(j),_=s(423),b=s(424),f=s(257),m=s(426),x=s(76),h=s(450),O=s(451),P=s(452),N=s(40),g={border:"none",marginTop:"15px",fontSize:"14px"},v=function(e){return Object(r.jsxs)(_.a,{style:{marginBottom:"15px",marginTop:"15px"},children:[Object(r.jsxs)("div",{className:u.a.postHeader,children:[Object(r.jsxs)("div",{className:u.a.user,children:[Object(r.jsx)(b.a,{className:u.a.userAvatar,size:"large",icon:Object(r.jsx)(m.a,{})}),Object(r.jsx)("div",{className:u.a.postInfo,children:Object(r.jsx)(N.b,{to:"/profile",className:u.a.postAuthor,children:"User"})})]}),Object(r.jsx)(f.a,{htmlType:"button",onClick:function(){e.deletePost(e.id)},style:g,type:"dashed",icon:Object(r.jsx)(x.a,{})})]}),Object(r.jsx)("div",{className:u.a.postContainer,children:Object(r.jsx)("p",{className:u.a.postText,children:e.massage})}),Object(r.jsxs)("div",{className:u.a.postFooter,children:[Object(r.jsxs)(f.a,{style:g,type:"default",children:[e.likeCount," Like ",Object(r.jsx)(h.a,{})]}),Object(r.jsx)(f.a,{style:g,type:"default",icon:Object(r.jsx)(O.a,{}),children:"Comment"}),Object(r.jsx)(f.a,{style:g,type:"default",icon:Object(r.jsx)(P.a,{}),children:"Share"})]})]})},T=s(186),y=s(233),I=s(182),k=s(68),S=s(67),C=s(447),F=p.a.memo((function(e){var t=e.posts.map((function(t,s){return Object(r.jsx)(v,{massage:t.post,likeCount:t.likeCount,deletePost:e.deletePost,id:t.id},"".concat(s,"_").concat(t.id))}));return Object(r.jsxs)(S.a,{style:{width:"100%"},children:[Object(r.jsx)(_.a,{title:"Create Post",children:Object(r.jsx)(w,{onSubmit:function(t){e.addPost(t.newPostText)}})}),Object(r.jsx)(S.a,{children:t})]})})),A=Object(I.a)(50),w=Object(y.a)({form:"post"})((function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)(C.a.Item,{children:Object(r.jsx)(T.a,{component:k.d,name:"newPostText",placeholder:"Enter your message",validate:[I.b,A]})}),Object(r.jsx)(C.a.Item,{children:Object(r.jsx)(f.a,{htmlType:"submit",type:"primary",children:"Add post"})})]})})})),D=F,U=s(35),z=Object(U.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(d.a)(t))},deletePost:function(t){e(Object(d.c)(t))}}}))(D),B=s(420),M=s(439),E=s(436),J=s.n(E),K=s(446),V=s(260),H=function(e){var t=Object(l.useState)(!1),s=Object(M.a)(t,2),o=s[0],a=s[1],i=Object(l.useState)(e.status),c=Object(M.a)(i,2),n=c[0],p=c[1];Object(l.useEffect)((function(){p(e.status)}),[e.status]);return Object(r.jsxs)("div",{className:J.a.status__description,children:[Object(r.jsx)("b",{className:J.a.status__description__text,children:"Status:"}),!o&&Object(r.jsx)("i",{onDoubleClick:function(){a(!0)},className:J.a.status,children:e.status?e.status:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"}),o&&Object(r.jsx)(V.a,{onChange:function(e){p(e.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),e.updateStatus(n)},type:"text",value:n})]})},G=s(416),L=Object(y.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.profile,o=e.error;return Object(r.jsxs)("form",{className:J.a.form__description,onSubmit:t,children:[Object(r.jsxs)("span",{className:J.a.descriptionTextDataForm,children:[Object(r.jsx)("b",{className:J.a.descriptionTextName,children:"Full name: "}),Object(k.c)("Full name","fullName",[],k.b)]}),Object(r.jsxs)("span",{className:J.a.descriptionTextDataForm,children:[Object(r.jsx)("b",{className:J.a.descriptionTextName,children:"Looking for a job: "}),Object(k.c)("","lookingForAJob",[],k.a,{type:"checkbox"})]}),Object(r.jsx)("span",{className:J.a.descriptionTextDataForm,children:Object(r.jsxs)("b",{className:J.a.descriptionTextName,children:["My professional skills:",Object(k.c)("","lookingForAJobDescription",[],k.d)]})}),Object(r.jsxs)("span",{className:J.a.descriptionTextDataForm,children:[Object(r.jsx)("b",{className:J.a.descriptionTextName,children:"Contacts:"}),Object(r.jsx)("span",{className:J.a.contactsBlock,children:Object.keys(s.contacts).map((function(e){return Object(r.jsxs)("div",{className:J.a.descriptionTextDataForm,children:[Object(r.jsxs)("b",{className:J.a.descriptionTextName,children:[e,":"]}),Object(k.c)(e,"contacts."+e,[],k.b)]},e)}))})]}),o&&Object(r.jsx)(G.a,{message:o,type:"error",showIcon:!0,closable:!0}),Object(r.jsx)(f.a,{className:J.a.edit_btn,htmlType:"submit",type:"primary",children:"Save"})]})})),R=function(e){var t=e.profile,s=e.isOwner,o=e.goToEditMode;return Object(r.jsxs)("div",{className:J.a.data__description,children:[Object(r.jsx)("div",{className:J.a.data__description_full_name,children:Object(r.jsx)("b",{children:t.fullName})}),Object(r.jsxs)("div",{className:J.a.descriptionText,children:[Object(r.jsx)("b",{children:"Looking for a job: "}),t.lookingForAJob?"yes":"no"]}),Object(r.jsxs)("div",{className:J.a.descriptionText,children:[Object(r.jsx)("b",{children:"My professional skills: "}),t.lookingForAJobDescription]}),Object(r.jsxs)("div",{className:J.a.descriptionText,children:[Object(r.jsx)("b",{children:"Contacts: "})," ",Object.keys(t.contacts).map((function(e){return Object(r.jsx)(X,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),s&&Object(r.jsx)(f.a,{className:J.a.edit_btn,htmlType:"button",type:"primary",onClick:o,children:"Edit"})]})},X=function(e){var t=e.contactTitle,s=e.contactValue;return Object(r.jsxs)("div",{className:J.a.descriptionTextContacts,children:[Object(r.jsxs)("b",{children:[t,": "]}),s||Object(r.jsx)("i",{children:"not specified"})]})},q=s(232),W=s(453),Y={cardStyle:{width:"100%",marginBottom:"20px"}},Z=function(e){var t=e.profile,s=e.status,o=e.updateStatus,a=e.isOwner,i=e.savePhoto,c=e.saveProfile,n=Object(l.useState)(!1),p=Object(M.a)(n,2),d=p[0],j=p[1];if(!t)return Object(r.jsx)(B.a,{});return Object(r.jsx)(_.a,{style:Y.cardStyle,children:Object(r.jsxs)(S.a,{className:J.a.profile__container,children:[Object(r.jsxs)("div",{className:J.a.profile__photo_block,children:[t.photos.large?Object(r.jsx)(K.a,{className:J.a.profileImage,src:t.photos.large}):Object(r.jsx)(K.a,{className:J.a.profileImage,src:q.a}),Object(r.jsx)(H,{profile:t,status:s,updateStatus:o}),a&&Object(r.jsx)(f.a,{type:"primary",className:J.a.upload_btn,children:Object(r.jsxs)("label",{className:J.a.custom_file_upload,children:[Object(r.jsx)(W.a,{}),Object(r.jsx)("input",{type:"file",className:J.a.input_file,onChange:function(e){e.target.files&&e.target.files.length&&i(e.target.files[0])}}),"Upload photo"]})})]}),Object(r.jsx)("div",{children:d?Object(r.jsx)(L,{initialValues:t,onSubmit:function(e){c(e).then((function(){j(!1)}))},profile:t}):Object(r.jsx)(R,{profile:t,isOwner:a,goToEditMode:function(){return j(!0)}})})]})})},Q=s(443),$=s.n(Q),ee=function(e){return Object(r.jsxs)(B.a,{spinning:!e.profile,className:$.a.spin,children:[Object(r.jsx)(Z,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),Object(r.jsx)(z,{})]})},te=s(31),se=s(195),oe=s(26),ae=function(e){Object(c.a)(s,e);var t=Object(n.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),e?(this.props.getProfilePage(e),this.props.getStatus(e)):console.error("ID should exists in URI params or in state ('authorizedUserId')")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(r.jsx)(ee,Object(o.a)(Object(o.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(p.a.Component);t.default=Object(oe.d)(Object(U.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getProfilePage:d.d,getStatus:d.e,updateStatus:d.h,savePhoto:d.f,saveProfile:d.g}),te.g,se.a)(ae)}}]);
//# sourceMappingURL=4.dd5fd7cf.chunk.js.map